<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script type="text/javascript">
    //->预解释(变量提升)
    //在当前的作用域中,JS代码从上到下执行之前,浏览器会默认的先把所有带var/function关键字的进行提前的声明或者定义
    //->声明:告诉浏览器在当前的作用域中有一个名字叫做num ->var num; 只声明没有定义的话,默认的值是undefined
    //->定义:给变量赋值 ->num=13;

    //2、在预解释阶段,带var关键字的只是提前的声明,只有在JS从上到下执行的过程中才会进行定义赋值;

    //->预解释阶段:var num;
    //    console.log(num);//->undefined
    //    var num = 13;//->num=13
    //    console.log(num);//->13


    //3、在预解释阶段,带function关键字的,声明+定义两部分都完成了
    //->预解释阶段:fn=xxxfff000
    //    console.log(fn);//->函数本身
    //    function fn() {
    //        console.log("ok");
    //    }//->25~27在预解释阶段已经声明加定义了,以后代码执行的时候在遇到也不会重新进行操作,直接跳过这几行就可以了
    //    console.log(fn);//->函数本身


    //    console.log(n, s);
    //    var n = 9;
    //    var s = "str";
    //    function fn() {
    //        console.log(n, s);
    //        n = 7;
    //        s = "珠峰培训";
    //        var n = 6;
    //    }
    //    fn();
    //    console.log(n, s);

    //1、预解释只发生在当前的作用域
    //->预解释只发生在当前的作用域中:开始的时候只对window下带var/function关键字的进行预解释,而函数中出现的var xxx这些此时还都是一堆字符串呢(没有实际的意义),所以开始的时候函数体中的带这些关键字的都不需要管
    //->只有全局代码执行到函数执行fn()这块的时候,才会形成一个新的私有的作用域,此时函数体中的才会从新进行预解释(在私有作用域代码从上到下执行之前也要进行预解释)

    //2、当函数执行的时候形成一个新的私有作用域,它会按照如下的步骤一步步的执行:
    //->1)首先给函数的形参赋值
    //->2)私有作用域中的预解释:把私有作用域中带var和function关键字的进行提前的声明或者定义
    //->3)私有作用域中的代码从上到下执行

    //3、作用域链的问题
    //->在私有作用域中,JS代码从上到下执行,如果遇到了一个变量
    //1)首先看是否是自己私有的变量,如果是私有的,那么我们接下来的所有操作(获取值,修改值...)都是用的自己私有的,和外面的没有任何的关系
    //2)如果不是自己私有的,则去当前作用域的上一级作用域中查找,如果上一级有,那么加下来操作的,都是在操作上级作用域中的变量；如果上级也没有,则继续向上查找,一直找到window为止;
    //3)如果找到window还没有,如果是 变量=值 相当于给window下增加一个属性名和属性值；如果是 console.log(变量) 获取值,会报错;

    //4、如何看变量是否为私有的
    //->首先看是否为形参
    //->然后看是否在私有作用域中声明过(看有没有带var)
    //两者有其一,就是自己私有的变量；如果两个都不是,就不是私有的,按照上述的作用域链的原理进行查找；

    var num = 13;
    var a = 20;
    fn(100);
    function fn(num) {
        console.log(num, a, b);//->Uncaught ReferenceError: b is not defined  JS中此行代码执行报错的话,后面的代码都不会执行了
        var a = 16;
        a = 17;
        b = 18;
        console.log(num, a, b);
    }
    console.log(num, a, b);

</script>
</body>
</html>