<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
</body>
</html>
<script>
 var str="123,456,789";
 str="1234";
 //str.length-index-1;//第一步：如何计算倒数的索引：倒数的索引，正好是这个公式：字符串的长度-此字符在原字符串中的索引位置-1；
 //第二步：如果这个倒数的索引和3取模是0，则在这一位的后边+“，”
 str.replace(/\d/g,function(val,index,input){
	 var n=str.length-index-1;
	 if(n%3==0&&n!=0){
		 return val+",";
	 }
	 return val;
 });
 //以上解决方案的变形方案（把正则加上负向预查）
  str.replace(/\d(?!$)/g,function(val,index,input){
	 var n=str.length-index-1;
	 if(n%3==0){
		 return val+",";
	 }
	 return val;
 });
 //正向预查和负向预查是正则中的条件表达式（只参与匹配不参与捕获,正向预查相当于==,负向预查相当于!=）
 
 var str1="abdiekf7788djfjd";
 var str2="993kkdkkdue839f=";
 //需求：把以数字结尾的字符串中，数字前边的非数字字符串取出来
 //(?=\d+$)
 
 var reg=/(\D+)(?=\d+$)/;
 //复习一下“?”在正则里的含意：五个，量词，非贪婪匹配，正向预查，负向预查，匹配不捕获
 if(reg.test(str1)){
	 	alert(RegExp.$1);
	 }
reg=/[^0-9]+(?=\d+$)/;
alert(reg.exec(str1));


var str="73894730";

"(73,)((894,)(730,)(421))"
"733"//字符串必须最少四位才加逗，如果连四位都不到，则不需要处理
"(772)(673)";
reg=/^(\d{1,3})((\d{3})+)$/;//把一个大字符串拆分成两组：第一组是1或2或3位，第二组是3的倍数位
var result=str.replace(reg,function(){
	return arguments[1]+","+arguments[2].replace(/\d{3}(?!$)/,function(){
		return arguments[0]+",";
		});
});
alert(result);








 
 
 
</script>
