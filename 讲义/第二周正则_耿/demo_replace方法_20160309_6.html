<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
</body>
</html>
<script>


var str="abcd1234div";
str.replace("1234","$");
//所有的值类型实例上的方法，都不会修改原来的实例，而是返回一个新值
str=str.replace("1234","$");
var str="abc";
str=str.replace(/(\w)(\w)(\w)/,"$3$2$1");

var str="18974433";
//把上边的阿拉伯数字替换成中国大写汉字壹捌玖柒肆叁
var a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"]
//replace的第二个参数为函数，表示以这个函数的运行结果为替换值，当这个函数运行的时候，replace方法会自动给这个函数最少传三个参数，分别是1：前边正则匹配到的结果；2：此结果在原字符串中的索引位置；3：原输入字符
str=str.replace(/\d/g,function(result,index,input){
	return a[result];
	return a[arguments[0]]
	//return "$"
})

//alert(str);

var str="123ab788dks998ip688by387";
//匹配上边字符串中的连续出现的数字，用它们的和将其替换
//带分组的正则在replace中的应用
str=str.replace(/(\d)(\d)(\d)/g,function(){
	return -1*(-arguments[1]-arguments[2]-arguments[3])
});
alert(str);

var str="847390837";
var str="2,847,390,837";
var str="01234";
//5-4-1
//(length-index-1)%3===0;
str=str.replace(/\d/g,function(a,b,c){
	var d=c.length-b-1//d是当前匹配到的这个数字在原字符串中倒数的序号
	if(d!=0&&d%3===0){//表示：不能是最后一位，并且，当前这一位倒数能被3整除
		return a+",";
	}else{
		return a;//如果不能被3整除，则还把原数字本身返回	
	}
	
});

alert(str);
//第二种方法，用负向预查（数字的右边不能是结尾，不匹配右边是结尾的数字）
str=str.replace(/\d(?!$)/g,function(a,b,c){
	var d=c.length-b-1//d是当前匹配到的这个数字在原字符串中倒数的序号
	if(d%3===0){//表示：不能是最后一位，并且，当前这一位倒数能被3整除
		return a+",";
	}else{
		return a;//如果不能被3整除，则还把原数字本身返回	
	}
	
});

alert(str);

</script>

