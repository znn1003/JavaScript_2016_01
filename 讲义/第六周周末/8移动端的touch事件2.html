<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>无标题文档</title>
<style type="text/css">
#outer{ width:70%; height:25%; margin:10px auto; overflow:hidden;}
#inner{width:500%; height:100%; transition-duration:0.7s; }
#inner div{ width:20%; height:100%; text-align:center; font-size:24px; background:blue; float:left; }
</style>
</head>

<body>
<div id="outer">
	<div id="inner">
    	<div>一</div><div style="background:red; ">二</div><div style="background:green;">三</div><div style="background:#ccc; ">四</div><div style="background:purple">五</div>
    </div>
</div>
</body>
</html>
<script>
var h=document.documentElement.clientHeight;
document.body.style.height=h+"px";
function start(e){//手指按下去 touchstart --dragstart
	
	this.mx=e.changedTouches[0].pageX;
	
}

function move(e){//手指移动 touchmove  ---drag
	var change=e.changedTouches[0].pageX-this.mx;
	var begin=-(this.index*this.offsetWidth);//盒子的起点，相当于拖拽里的this.x
	this.parentNode.style.transform="translate("+(begin+change)+"px,0)";
	console.log(begin,change);
	if(change<0){//这就是向左走
		//this.index--->this.index+1;
		this.nextIndex=this.index+1;//当touch结束的时候，它应该到第几张
		if(this.nextIndex>=eles.length-1){
			this.nextIndex=eles.length-1;	
		}
		
	}else if(change >0){//向右走
		//this.index-->this.index-1;
		this.nextIndex=this.index-1;
		if(this.nextIndex<=0){
			this.nextIndex=0;	
		}
	}
	
	//再确定当前是第几张
	this.index
}
function end(e){//手指抬起 touchend  ---dragend
	this.parentNode.style.transform="translate(-"+this.nextIndex*this.offsetWidth+"px,0)";
}

var eles=document.getElementById("inner").getElementsByTagName("div");
[].forEach.call(eles,function(ele,i){
	ele.index=i;
	ele.addEventListener("touchstart",start,false);
	ele.addEventListener("touchmove",move,false);
	ele.addEventListener("touchend",end,false);
});

</script>
